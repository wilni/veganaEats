<% layout('layout/boilerplate') %>
<div class="row">
    <h1 class="text-center">Edit:  <%= recipe.title %> </h1>
    <div class="col-6 offset-3">
        <form action="/recipes/<%= recipe._id %>?_method=PUT" method="POST" class="needs-validation" novalidate>
            <div class="mb-3">
                <label class="form-label" for="title">Recipe Name</label>
                <input class="form-control" type="text" name="title" id="title"  value='<%= recipe.title %>' required>
            </div>
            <div class="mb-3">
                <label class="form-label" for="origin">Recipe Origin</label>
                <input class="form-control" type="text" name="origin" id="origin" value='<%= recipe.origin %>' required>
            </div>
            <div class="mb-3">
                <label class="form-label" for="image">Image URL</label>
                <input class="form-control" type="text" name="image" id="image" value='<%= recipe.image %>' required>
            </div>

            <div class="mb-3">
                <h4>Select Dish Type</h4>
                <div class="form-check">
                <input class="form-check-input" type="radio" value="breakfast" id="dishType" name="dishType"  <% if(recipe.dishType === 'breakfast') { %> checked <% }%>  >
                    <label class="form-check-label" for="breakfast">
                        breakfast
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" value="entree" id="dishType" name="dishType"  <% if(recipe.dishType === 'entree') { %> checked <% }%> >
                    <label class="form-check-label" for="entree">
                        Entree
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" value="snack" id="dishType" name="dishType" <% if(recipe.dishType === 'snack') { %> checked <% }%>
                    <label class="form-check-label" for="snack">
                        snack
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" value="soup" id="dishType" name="dishType" <% if(recipe.dishType === 'soup') { %> checked <% }%>
                    <label class="form-check-label" for="soup">
                        soup
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" value="drink" id="dishType" name="dishType" <% if(recipe.dishType === 'drink') { %> checked <% }%>
                    <label class="form-check-label" for="drink">
                        drink
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" value="dessert" id="dishType" name="dishType" <% if(recipe.dishType === 'dessert') { %> checked <% }%>
                    <label class="form-check-label" for="dessert">
                        dessert
                    </label>
                </div>
            </div>
            <% for(let i=0; i < num; i++){ %>
            <div class="input-group mb-3">
                <input type="text" class="form-control" placeholder="ingredient name" id="ingredients" name="ingredients[name]" value="<%= recipe.ingredients.name[i] %>" 
                    aria-label="ingredient name" required>
                <input type="text" class="form-control" placeholder="amount" id="ingredients" name="ingredients[amount]" value="<%= recipe.ingredients.amount[i] %>" 
                    aria-label="amount" required>
                <input type="text" class="form-control" placeholder="unit" id="ingredients" name="ingredients[unit]" aria-label="unit" required value="<%= recipe.ingredients.unit[i] %>" >
            </div>
            <% } %>



            <div class="mb-3">
                <button class="btn btn-success">Edit recipes</button>
            </div>
        </form>
    </div>

    <a href="/recipes">Back to recipes</a>
</div>
</div>